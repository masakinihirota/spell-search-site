# 要件ドキュメント

## 概要

スペルトナエルの呪文を検索するインクリメンタル検索サイトです。ユーザーが数字や呪文の一部を入力することで、リアルタイムでスペルトナエルの呪文のリストを絞り込むことができる Web アプリケーションです。このアプリケーションは、スペルトナエルの検索、詳細表示、ユーザー間のコミュニケーション機能を提供し、モバイルとデスクトップの両方で最適な体験を実現します。

## 要件

### 要件 1

**ユーザーストーリー:** ユーザーとして、スペルキャストを素早く検索したいので、インクリメンタル検索機能を使って効率的に目的の呪文を見つけたい

#### 受け入れ基準

1. WHEN ユーザーが検索ボックスに文字を入力した THEN システムはリアルタイムで検索結果を更新する
2. IF 検索クエリが数字、呪文名、または呪文の一部である THEN システムは該当する呪文を検索結果に表示する
3. WHEN 検索クエリが変更された THEN システムは入力に応じて即座に検索結果を絞り込む
4. IF 検索ボックスが空である THEN システムは全てのスペルキャストを表示する

### 要件 2

**ユーザーストーリー:** ユーザーとして、スペルキャストの詳細情報を確認したいので、検索結果から個別の呪文の詳細を表示できるようにしたい

#### 受け入れ基準

1. WHEN 検索結果の各スペルキャストをクリックした THEN システムは詳細情報を表示する
2. IF 詳細表示が要求された THEN システムは呪文の番号、名前、効果、説明を含む情報を表示する
3. WHEN 詳細表示画面で戻るアクションが実行された THEN システムは検索結果リストに戻る

### 要件 3

**ユーザーストーリー:** ユーザーとして、使いやすいインターフェースでスペルキャストを閲覧したいので、レスポンシブで直感的な UI を提供してほしい

#### 受け入れ基準

1. IF デバイスがモバイルまたはデスクトップである THEN サイトは適切に表示される
2. WHEN ページがロードされた THEN 検索ボックスがページの上部に目立つように配置される
3. WHEN 検索結果が表示される THEN 結果が見やすいリスト形式で表示される
4. WHEN データ読み込み中である THEN ローディング状態が適切に表示される

### 要件 4

**ユーザーストーリー:** ユーザーとして、高速な検索体験を得たいので、パフォーマンスが最適化されたアプリケーションを使いたい

#### 受け入れ基準

1. WHEN 検索クエリが送信された THEN 検索結果の表示が 500ms 以内に完了する
2. IF 大量のスペルキャストデータがある THEN システムはスムーズに動作する
3. WHEN ユーザーが検索ボックスに入力している THEN 検索入力の遅延処理（デバウンス）が実装される
4. IF 検索クエリが変更されていない THEN 不要な API コールが発生しない

### 要件 5

**ユーザーストーリー:** ユーザーとして、正確な検索結果を得たいので、部分一致や曖昧検索に対応した検索機能を使いたい

#### 受け入れ基準

1. IF 検索クエリが呪文名の一部である THEN システムは部分一致する呪文を検索結果に表示する
2. IF 検索クエリが数字である THEN システムは該当する呪文を検索結果に表示する
3. IF 検索クエリに大文字小文字が混在している THEN システムは大文字小文字を区別せずに検索を行う
4. WHEN 検索結果が表示される THEN 結果は関連度順に表示される

### 要件 6

**ユーザーストーリー:** ユーザーとして、よく使う呪文に素早くアクセスしたいので、事前に用意されたボタンをクリックするだけで該当する呪文を表示できるようにしたい

#### 受け入れ基準

1. WHEN ページがロードされた THEN クイックアクセスボタンが表示される
2. WHEN ボタンをクリックした THEN システムは該当する呪文の候補を即座に表示する
3. IF ボタンによる検索と文字入力による検索が同時に行われた THEN 両方の条件を満たす結果が表示される
4. WHEN ページがロードされた THEN ボタンは視覚的に分かりやすく、カテゴリ別に整理されている
5. WHEN ボタンが選択された THEN ボタンの選択状態が視覚的に表示される

### 要件 7

**ユーザーストーリー:** ユーザーとして、スペルキャストボードを視覚的に確認したいので、提供された URL のボード情報を表示し、選択した行をハイライトできるようにしたい

#### 受け入れ基準

1. WHEN ページがロードされた THEN スペルキャストボードが表示される
2. WHEN ボード情報が読み込まれた THEN 情報が表形式またはグリッド形式で表示される
3. WHEN ユーザーが行を選択した THEN システムは選択された行をハイライト表示する
4. WHEN 行が選択された THEN ハイライトされた行の情報が詳細表示エリアに表示される
5. IF 検索結果に該当する行がある THEN その行が自動的にハイライトされる
6. WHEN 検索が実行された THEN ボード表示と検索機能が連動して動作する

### 要件 8

**ユーザーストーリー:** 管理者として、スペルキャストデータを効率的に管理したいので、ファイルベースでデータを保存し、バージョンアップに応じて呪文の追加・削除・編集ができるようにしたい

#### 受け入れ基準

1. WHEN アプリケーションが起動した THEN スペルキャストデータがJSON形式のファイルから読み込まれる
2. WHEN 管理者がファイルを編集した THEN データが更新される
3. IF データファイルが変更された THEN 変更が即座にアプリケーションに反映される
4. WHEN 新しいデータが追加された THEN システムはデータの整合性をチェックする

## 参考情報

### 呪文ボード構成

```
1 アイウエオ ヤユヨワン
2 カキクケコ ラリルレロ
3 サシスセソ ガギグゲゴ
4 タチツテト ザジズゼゾ

5 ナニヌネノ ダヂヅデド
6 ハヒフヘホ バビブベボ
7 マミムメモ パピプペポ
8 ァィゥェォ ッャュョー
```

### 追加要件

- カタカナとひらがなの入力に対応すること（ユーザーがひらがなを入力してもカタカナとして検索対象を見つける）
- スペルデータ.jsonの呪文を読み込んでリスト表示すること
- 開発はNext.jsを使用すること
- 呪文データはファイルから読み込むこと
- 選択された呪文はスペルボードに表示され、行とその文字がハイライト表示されること


## タグ

全て

ダメージ
回復
攻撃力
防御力
移動速度
お金
時間
召喚
ギャンブル
強化
特殊

