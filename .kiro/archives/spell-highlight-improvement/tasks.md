# 実装計画

- [x] 1. HighlightedCell 型の定義

  - TypeScript の型定義ファイルに HighlightedCell インターフェースを追加
  - 行 ID と列インデックスを含む型を定義
  - _要件: 1.1, 1.3_

- [x] 2. カタカナ文字ハイライト機能の実装

  - [x] 2.1 呪文名からハイライトするセルを特定する関数の実装

    - 呪文名の各文字をカナボードで検索する関数を作成
    - 重複文字も含めてすべての出現箇所を検出する処理を実装
    - _要件: 1.1, 1.2, 1.3_

  - [x] 2.2 useSpellBoard フックの拡張

    - highlightedCells 状態の追加
    - 呪文選択時にハイライトするセルを特定する処理の実装
    - 横方向のみのハイライト表示を確保する処理の実装
    - _要件: 1.1, 1.2, 2.1, 3.1_

- [x] 3. KanaBoard コンポーネントの拡張

  - [x] 3.1 KanaBoardProps インターフェースの更新

    - highlightedCells プロパティの追加
    - _要件: 1.1, 3.1_

  - [x] 3.2 セルハイライト表示ロジックの実装

    - 特定のセルをハイライトする条件分岐の追加
    - 呪文名の文字に対応するセルのスタイリング
    - _要件: 1.1, 1.2, 2.1, 3.2_

- [x] 4. Home コンポーネントの修正

  - useSpellBoard フックから highlightedCells を取得
  - KanaBoard コンポーネントに highlightedCells を渡す処理の追加
  - _要件: 1.1, 3.1, 3.3_

- [x] 5. テストの実装

  - [x] 5.1 getHighlightedCellsFromSpellName 関数のテスト

    - 基本的なケースのテスト
    - 重複文字を含むケースのテスト
    - _要件: 1.1, 1.2, 1.3_

  - [x] 5.2 useSpellBoard フックのテスト

    - 呪文選択時のハイライトセル生成のテスト
    - 横方向のみのハイライト表示のテスト
    - _要件: 1.1, 2.1, 3.1_

  - [x] 5.3 KanaBoard コンポーネントのテスト

    - セルハイライト表示のテスト
    - _要件: 1.1, 1.2, 3.2_

- [x] 6. パフォーマンス最適化

  - メモ化を使用して不要な再計算を防止
  - 効率的なデータ構造の使用
  - _要件: 3.3_

- [x] 7. 統合テストとバグ修正


  - 実際の呪文データを使用した統合テスト
  - エッジケースの処理
  - _要件: 1.1, 1.2, 1.3, 2.1, 3.1, 3.2, 3.3_
